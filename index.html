<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>PulseQ</title>
	<link rel='shortcut icon' type='image/svg' href='img/icon.svg'>
	<meta name="viewport" content="width=device-width, user-scalable=no" />
	<meta name="theme-color" content="#111111" />

	<style>
		* {
			padding: 0;
			margin: 0;
			color: #aaa;
			font-family: sans-serif;
		}
	</style>
	<link rel="stylesheet" href="css/elements.css">
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="css/table-arrange.css">
	<link rel="stylesheet" href="css/table-pattern.css">
</head>

<body>
	<div id="container">
		<div id="header">
			<div id="header-tabs">
				<div id="arrange-tab" class="js-tab tab tab--active">
					Arrange
				</div>
				<div id="pattern-tab" class="js-tab tab">
					Pattern
				</div>
				<div id="synth-tab" class="js-tab tab">
					Synth
				</div>
				<div id="synth-list-tab" class="js-tab tab">
					List
				</div>
			</div>

			<div id="header-spacer"></div>

			<div id="header-controls">
				<button id="button-settings-open">C</button>
				<button id="button-fullscreen">F</button>
			</div>
		</div>
		<div id="main">
			<div id="arrange-view" class="js-view-container view-container">
				<div id="arrange-container">
					<div class="notranslate" translate="no" id="arrange-main"></div>
				</div>
				<div id="arrange-footer" class="footer">
					<button id="button-add-pattern">+</button>
					<div class="footer-menu">
						<button id="button-arrange-play" class="button--play">&gt;&gt;</button>
						<button id="button-arrange-menu-open">•••</button>
						<div class="notranslate" translate="no" id="song-title-area">
							[untitled]
						</div>
					</div>
				</div>
			</div>
			<div id="pattern-view" class="js-view-container view-container view--hidden">

				<div id="pattern-container">
					<div class="notranslate" translate="no" id="pattern-main">
					</div>
				</div>

				<div id="pattern-footer" class="footer">
					<button id="button-add-pattern-layer">+</button>

					<div class="footer-menu">
						<button id="button-pattern-play" class="button--play">&gt;&gt;</button>
						<button id="button-pattern-menu-open">•••</button>
						<div class="notranslate" translate="no" id="pattern-name-area"></div>
					</div>
				</div>
			</div>

			<div id="synth-view" class="js-view-container view-container view--hidden synth-footer-shrink">
				<div id="synth-main">
					<div>
						<span class="bright-text">Oscillator 1</span>
						<select class="notranslate" translate="no" id="synth-osc1-type">
							<option>[none]</option>
							<option>sine</option>
							<option>triangle</option>
							<option>sawtooth</option>
							<option>square</option>
						</select>
						<br>
						<span>Octave</span>
						<br>
						<input type="range" id="synth-osc1-octave" min=-5 max=5 step=1 class="range--10-marks">
						<br>
						<span>Detune</span>
						<button id="synth-osc1-reset-detune" class="button--small">Reset</button>
						<br>
						<input type="range" id="synth-osc1-detune" min=-600 max=600 step=10 class="range--12-marks">
						<br>
						<span>Level</span>
						<br>
						<input type="range" id="synth-osc1-level" min=0 max=1 step=0.01 class="range--4-marks">
					</div>
					<div>
						<span class="bright-text">Oscillator 2</span>
						<select class="notranslate" translate="no" id="synth-osc2-type">
							<option>[none]</option>
							<option>sine</option>
							<option>triangle</option>
							<option>sawtooth</option>
							<option>square</option>
						</select>
						<br>
						<span>Octave</span>
						<br>
						<input type="range" id="synth-osc2-octave" min=-5 max=5 step=1 class="range--10-marks">
						<br>
						<span>Detune</span>
						<button id="synth-osc2-reset-detune" class="button--small">Reset</button>
						<br>
						<input type="range" id="synth-osc2-detune" min=-600 max=600 step=10 class="range--12-marks">
						<br>
						<span>Level</span>
						<br>
						<input type="range" id="synth-osc2-level" min=0 max=1 step=0.01 class="range--4-marks">
					</div>
					<div>
						<span class="bright-text">Oscillator 3</span>
						<select class="notranslate" translate="no" id="synth-osc3-type">
							<option>[none]</option>
							<option>sine</option>
							<option>triangle</option>
							<option>sawtooth</option>
							<option>square</option>
						</select>
						<br>
						<span>Octave</span>
						<br>
						<input type="range" id="synth-osc3-octave" min=-5 max=5 step=1 class="range--10-marks">
						<br>
						<span>Detune</span>
						<button id="synth-osc3-reset-detune" class="button--small">Reset</button>
						<br>
						<input type="range" id="synth-osc3-detune" min=-600 max=600 step=10 class="range--12-marks">
						<br>
						<span>Level</span>
						<br>
						<input type="range" id="synth-osc3-level" min=0 max=1 step=0.01 class="range--4-marks">
					</div>
					<div>
						<select class="notranslate" translate="no" id="synth-envelope-type">
							<option>exponential</option>
							<option>linear</option>
						</select>
						<span class="envelope-caption" style="color:#6ee;">Amplitude Envelope</span>
						<span>Attack</span>
						<br>
						<input type="range" id="synth-envelope-attack" min=0 max=12 step=0.02 class="range--4-marks">
						<br>
						<span>Decay</span>
						<br>
						<input type="range" id="synth-envelope-decay" min=0 max=12 step=0.02 class="range--4-marks">
						<br>
						<span>Sustain</span>
						<br>
						<input type="range" id="synth-envelope-sustain" min=0 max=1 step=0.01 class="range--4-marks">
						<br>
						<span>Release</span>
						<br>
						<input type="range" id="synth-envelope-release" min=0 max=12 step=0.02 class="range--4-marks">
					</div>
					<div>
						<span class="bright-text">Glide</span>
						<br>
						<input type="range" id="synth-glide" min=0 max=1 step=0.01 class="range--4-marks">
						<br>
						<span class="bright-text">Pan</span>
						<button id="synth-pan-reset" class="button--small">Reset</button>
						<br>
						<input type="range" id="synth-pan" min=-1 max=1 step=0.01 class="range--10-marks">
					</div>
					<div>
						<span class="bright-text">Filter</span>
						<select class="notranslate" translate="no" id="synth-filter-type">
							<option>[none]</option>
							<option>lowpass</option>
							<option>highpass</option>
							<option>bandpass</option>
						</select>
						<br>
						<span>Frequency</span>
						<br>
						<input type="range" id="synth-filter-frequency" min=0 max=5 step=0.02 class="range--5-marks">
						<br>
						<span>Peak</span>
						<br>
						<input type="range" id="synth-filter-quality" min=0 max=50 step=0.1 class="range--4-marks">
					</div>
					<div>
						<span class="bright-text">Noise</span>
						<select class="notranslate" translate="no" id="synth-noise-type">
							<option>[none]</option>
							<option>white</option>
							<option>pink</option>
							<option>brown</option>
						</select>
						<br>
						<span>Level</span>
						<br>
						<input type="range" id="synth-noise-level" min=0 max=1 step=0.01 class="range--4-marks">
					</div>
					<div>
						<span class="bright-text">Amplifier</span>
						<br>
						<span>Gain</span>
						<br>
						<input type="range" id="synth-amplifier-gain" min=0 max=1.2 step=0.01 class="range--volume">
					</div>

					<div class="block-spacer">
						Modulation
					</div>

					<div>
						<span class="bright-text">LFO 1</span>
						<select class="notranslate" translate="no" id="synth-lfo1-type">
							<option>[none]</option>
							<option>sine</option>
							<option>triangle</option>
							<option>sawtooth</option>
							<option>square</option>
						</select>
						<label for="synth-lfo1-sync">BPM sync</label>
						<input type="checkbox" id="synth-lfo1-sync">
						<br>
						<span>Frequency</span>
						<br>
						<input type="range" id="synth-lfo1-frequency" min=0 max=12 step=0.01 class="range--4-marks">
						<br>
						<span class="bright-text">LFO 2</span>
						<select class="notranslate" translate="no" id="synth-lfo2-type">
							<option>[none]</option>
							<option>sine</option>
							<option>triangle</option>
							<option>sawtooth</option>
							<option>square</option>
						</select>
						<br>
						<span>Frequency</span>
						<br>
						<input type="range" id="synth-lfo2-frequency" min=0 max=12 step=0.01 class="range--4-marks">
					</div>
					<div>
						<select class="notranslate" translate="no" id="synth-mod-envelope-state">
							<option>disabled</option>
							<option>enabled</option>
							<option>lock</option>
						</select>
						<span class="envelope-caption" style="color:#e6e;">Modulation Envelope</span>
						<span>Attack</span>
						<br>
						<input type="range" id="synth-mod-envelope-attack" min=0 max=12 step=0.02
							class="range--4-marks">
						<br>
						<span>Decay</span>
						<br>
						<input type="range" id="synth-mod-envelope-decay" min=0 max=12 step=0.02 class="range--4-marks">
						<br>
						<span>Sustain</span>
						<br>
						<input type="range" id="synth-mod-envelope-sustain" min=0 max=1 step=0.01
							class="range--4-marks">
						<br>
						<span>Release</span>
						<br>
						<input type="range" id="synth-mod-envelope-release" min=0 max=12 step=0.02
							class="range--4-marks">
					</div>
					<div>
						<span class="bright-text">OSC 1 mod. input</span>
						<select class="notranslate" translate="no" id="synth-osc1-mod-input">
							<option>[none]</option>
							<option>lfo1</option>
							<option>lfo2</option>
							<option>envelopeMod</option>
							<option>envelopeModRev</option>
							<option>osc2</option>
							<option>osc3</option>
						</select>
						<br>
						<span>Intensity</span>
						<br>
						<input type="range" id="synth-osc1-mod-value" min=0 max=5 step=0.02 class="range--5-marks">
					</div>
					<div>
						<span class="bright-text">OSC 2 mod. input</span>
						<select class="notranslate" translate="no" id="synth-osc2-mod-input">
							<option>[none]</option>
							<option>lfo1</option>
							<option>lfo2</option>
							<option>envelopeMod</option>
							<option>envelopeModRev</option>
							<option>osc3</option>
						</select>
						<br>
						<span>Intensity</span>
						<br>
						<input type="range" id="synth-osc2-mod-value" min=0 max=5 step=0.02 class="range--5-marks">
					</div>
					<div>
						<span class="bright-text">Filter mod. input</span>
						<select class="notranslate" translate="no" id="synth-filter-mod-input">
							<option>[none]</option>
							<option>lfo1</option>
							<option>lfo2</option>
							<option>envelopeMod</option>
							<option>envelopeModRev</option>
							<option>osc1</option>
							<option>osc2</option>
						</select>
						<br>
						<span>Intensity</span>
						<br>
						<input type="range" id="synth-filter-mod-value" min=0 max=4 step=0.02 class="range--4-marks">
					</div>
					<div>
						<span class="bright-text">AMP mod. input</span>
						<select class="notranslate" translate="no" id="synth-amplifier-mod-input">
							<option>[none]</option>
							<option>lfo1</option>
							<option>lfo2</option>
							<option>envelopeModRev</option>
							<option>osc1</option>
							<option>osc2</option>
						</select>
						<br>
						<span>Intensity</span>
						<br>
						<input type="range" id="synth-amplifier-mod-value" min=0 max=1 step=0.01 class="range--4-marks">
					</div>
					<div>
						<span class="bright-text">Effect</span>
						<select class="notranslate" translate="no" id="synth-fx-type">
							<option>[none]</option>
							<option>chorus</option>
							<option>delay</option>
							<option>distort</option>
							<option>phaser</option>
							<option>pingpong</option>
							<option>reverb</option>
							<option>stereo</option>
							<option>tremolo</option>
							<option>vibrato</option>
						</select>
						<br>
						<span>Amount (Depth)</span>
						<br>
						<input type="range" id="synth-fx-amount" min=0 max=1 step=0.002 class="range--4-marks">
						<br>
						<span>Delay (Speed)</span>
						<input type="checkbox" id="synth-fx-sync">
						<label for="synth-fx-sync">BPM sync</label>
						<input type="range" id="synth-fx-rate" min=0 max=1 step=0.002 class="range--3-marks">
						<br>
						<span>Dry-Wet</span>
						<br>
						<input type="range" id="synth-fx-wet" min=0 max=1 step=0.002 class="range--4-marks">
					</div>
				</div>

				<div id="synth-footer">
					<div id="piano-container-outer">
						<div class="notranslate" translate="no" id="piano-container"></div>
					</div>
					<div id="synth-footer-controls">
						<button id="button-piano-show">^</button>
						<button id="button-synth-menu-open">•••</button>
						<div class="notranslate" translate="no" id="synth-name-area"></div>
					</div>
				</div>
			</div>

			<div id="synth-list-view" class="js-view-container view-container view--hidden">
				<div class="notranslate" translate="no" id="synth-list-main"></div>
				<div class="footer">
					<button id="button-add-synth">+</button>
					<div id="synth-list-caption-area">Synth List</div>
				</div>
			</div>

		</div>

		<div id="startup-modal-menu" class="modal-container">
			<div class="modal-box" id="startup-menu-box">
				<div class="modal-box-block">
					<span>PulseQ</span>
					<div id="app-icons">
						<div></div>
						<div></div>
						<div></div>
					</div>
				</div>

				<div class="modal-box-block" id="startup-loading-title">
					Loading...
				</div>

				<div class="modal-box-block nodisplay" id="startup-menu">
					<div class="startup-menu-entry" id="button-new-track">New Track</div>
					<div class="startup-menu-entry" id="button-import-track">
						<input type="file" accept=".json" id="input-import-track">
						<span>Import</span>
					</div>
					<div class="startup-menu-entry" id="button-demo-track">Demo</div>
				</div>
			</div>
		</div>

		<div id="demo-modal-menu" class="modal-container nodisplay">
			<div class="modal-box">
				<div class="modal-box-block" id="demo-list-container"></div>

				<div class="modal-box-block modal-box-footer">
					<button id="button-demo-menu-close" class="button-modal-bottom">Close</button>
				</div>
			</div>
		</div>

		<div id="settings-modal-menu" class="modal-container nodisplay">
			<div class="modal-box">
				Menu
				<div class="spacer"></div>
				<textarea id="text-export-data" style="height:40vh; width: 90%; background-color:#444;"></textarea>

				<div class="spacer"></div>
				<button id="button-import-pattern">Import pattern</button>
				<button id="button-export-pattern">Export pattern</button>

				<button id="button-import-full-pattern">Import Full pattern</button>
				<button id="button-export-full-pattern">Export Full pattern</button>

				<div class="spacer"></div>
				<button id="button-import-song">Import song</button>
				<button id="button-export-song">Export song</button>
				<div class="spacer"></div>
				<button id="button-context-resume">Resume context</button>
				<div class="spacer"></div>
				<button id="button-settings-close" class="button-modal-bottom">Close</button>
			</div>
		</div>

		<div id="arrange-modal-menu" class="modal-container nodisplay">
			<div class="modal-box">
				<table>
					<tr>
						<td>
							Song title
						</td>
						<td>
							<input type="text" id="input-song-title">
						</td>
					</tr>
					<tr>
						<td>
							BPM
						</td>
						<td>
							<input type="number" id="input-bpm-value">
							<button id="button-bpm-set">Set</button>
						</td>
					</tr>
					<tr>
						<td>
							Bar Steps
						</td>
						<td>
							<input type="number" id="input-steps-value">
							<button id="button-steps-set">Set</button>
						</td>
					</tr>
					<tr>
						<td>
							<!--spacer-->
						</td>
					</tr>
					<tr>
						<td>
							Compressor
						</td>
					</tr>
					<tr>
						<td>
							Threshold
						</td>
						<td>
							<input id="range-compressor-threshold" type="range" min=0 max=100 step=1
								class="range--4-marks">
						</td>
					</tr>
					<tr>
						<td>
							Ratio
						</td>
						<td>
							<input id="range-compressor-ratio" type="range" min=1 max=20 step=1 class="range--4-marks">
						</td>
					</tr>
					<tr>
						<td>
							<!--spacer-->
						</td>
					</tr>
					<tr>
						<td>
							Project File:
						</td>
						<td>
							<a href="" id="link-song-download">Download JSON</a>
						</td>
					</tr>
				</table>

				<div class="modal-box-block modal-box-footer">
					<button id="button-export-menu-open">Export WAV</button>
					<button id="button-arrange-menu-close" class="button-modal-bottom">Close</button>
				</div>
			</div>
		</div>

		<div id="export-modal-menu" class="modal-container nodisplay">
			<div class="modal-box">
				<div class="modal-box-block">
					<span>Export Audio</span>
					<input type="number" id="input-render-length" style="width: 70px;">
					<span class="dim-text">sec.</span>
					<button id="button-render">Start</button>
				</div>
				<div class="modal-box-block nodisplay" id="export-menu-result-container">
					<div id="export-ongoing-container">
						<span>Rendering...</span>
						<span class="dim-text">May take some time.</span>
						<div id="export-progress-anim" class="progress-animation"></div>
					</div>
					<div id="wav-link-container">
						<a id="link-wav-download">Download WAV</a>
					</div>
				</div>
				<div class="modal-box-block modal-box-footer" id="export-menu-close-container">
					<button id="button-export-menu-close" class="button-modal-bottom">Close</button>
				</div>
			</div>
		</div>

		<div id="pattern-modal-menu" class="modal-container nodisplay">
			<div class="modal-box">
				<table>
					<tr>
						<td>
							Pattern name
						</td>
						<td>
							<input type="text" id="input-pattern-name">
						</td>
					</tr>

					<tr>
						<td>
							Synth&sol;Layer
						</td>
						<td>
							<button id="button-synth-select">[none]</button>
							<button id="button-delete-layer">Delete</button>
						</td>
					</tr>

					<tr>
						<td>
							Steps
						</td>
						<td>
							<input type="number" id="input-pattern-length">
							<button id="button-pattern-length-set">Set</button>
						</td>
					</tr>
				</table>
				<div class="modal-box-block">
					<button id="button-copy-pattern">Copy Pattern</button>
					<button id="button-delete-pattern">Delete Pattern</button>
				</div>
				<div class="modal-box-block modal-box-footer">
					<button id="button-pattern-menu-close" class="button-modal-bottom">Close</button>
				</div>
			</div>
		</div>

		<div id="synth-select-modal-menu" class="modal-container nodisplay">
			<div class="modal-box">
				<div class="modal-box-block">
					<div>
						<span>Select Instrument</span>
					</div>
					<div id="menu-synth-list-container"></div>
				</div>
				<div class="modal-box-block modal-box-footer">
					<button id="button-synth-select-close" class="button-modal-bottom">Cancel</button>
				</div>
			</div>
		</div>

		<div id="synth-modal-menu" class="modal-container nodisplay">
			<div class="modal-box">
				<div class="modal-box-block">
					<span>Synth name</span>
					<input type="text" id="input-synth-name">
				</div>
				<div class="modal-box-block">
					<button id="button-copy-synth">Copy Synth</button>
					<button id="button-reset-synth">Reset Synth</button>
					<button id="button-delete-synth">Delete Synth</button>
				</div>
				<div class="modal-box-block">
					<button id="button-import-synth">
						<span>Import</span>
						<input type="file" accept=".json" id="input-import-synth">
					</button>
					<a id="link-synth-export" href="">Export</a>
				</div>
				<div class="modal-box-block modal-box-footer">
					<button id="button-synth-menu-close" class="button-modal-bottom">Close</button>
				</div>
			</div>
		</div>

		<div id="modal-alert" class="modal-container nodisplay">
			<div class="modal-box modal-alert-box">
				<div class="modal-box-block">
					<span id="modal-alert-message"></span>
				</div>
				<div class="modal-box-block" id="input-area-modal-alert">
					<input type="text" id="input-modal-alert">
				</div>
				<div class="modal-box-block modal-box-footer">
					<button id="button-alert-ok" class="button-modal-bottom">OK</button>
					<button id="button-alert-cancel" class="button-modal-bottom">Cancel</button>
				</div>
			</div>
		</div>

	</div>

	<script src="lib/Tone.js"></script>

	<script src="js/defaults.js"></script>
	<script src="js/misc.js"></script>

	<script src="js/synth-param-apply.js"></script>
	<script src="js/synth.js"></script>
	<script src="js/synth-ui.js"></script>
	<script src="js/synth-list.js"></script>

	<script src="js/pattern.js"></script>
	<script src="js/pattern-ui.js"></script>
	<script src="js/arrange-ui.js"></script>

	<script src="js/scheduler.js"></script>
	<script src="js/scheduler-ui-init.js"></script>

	<script src="js/song-object.js"></script>

	<script src="js/menu-init.js"></script>
	<script src="js/main.js"></script>

</body>

</html>